{"ast":null,"code":"import _objectSpread from\"/Users/katie/Desktop/Brandon projects/weather_app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{USER_LOADED,USER_LOADING,AUTH_ERROR,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT_SUCCESS,REGISTER_SUCCESS,REGISTER_FAIL}from\"../actions/types\";var initialState={token:localStorage.getItem(\"token\"),isAuthenticated:null,isLoading:false,user:[{_id:\"2\"}]};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case USER_LOADING:return _objectSpread({},state,{isLoading:true});case USER_LOADED:return _objectSpread({},state,{isAuthenticated:true,isLoading:false,user:action.payload});case LOGIN_SUCCESS:case REGISTER_SUCCESS:localStorage.setItem(\"token\",action.payload.token);return _objectSpread({},state,{},action.payload,{// includes token\nisAuthenticated:true,isLoading:false});case AUTH_ERROR:case LOGIN_FAIL:case LOGOUT_SUCCESS:case REGISTER_FAIL:localStorage.removeItem(\"token\");return _objectSpread({},state,{token:null,user:null,isAuthenticated:false,isLoading:false});default:return state;}}","map":{"version":3,"sources":["/Users/katie/Desktop/Brandon projects/weather_app/client/src/reducers/authReducer.js"],"names":["USER_LOADED","USER_LOADING","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","initialState","token","localStorage","getItem","isAuthenticated","isLoading","user","_id","state","action","type","payload","setItem","removeItem"],"mappings":"8KAAA,OACEA,WADF,CAEEC,YAFF,CAGEC,UAHF,CAIEC,aAJF,CAKEC,UALF,CAMEC,cANF,CAOEC,gBAPF,CAQEC,aARF,KASO,kBATP,CAWA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY,CAEnBC,eAAe,CAAE,IAFE,CAGnBC,SAAS,CAAE,KAHQ,CAInBC,IAAI,CAAE,CAAC,CAAEC,GAAG,CAAE,GAAP,CAAD,CAJa,CAArB,CAMA,cAAe,WAAuC,IAA9BC,CAAAA,KAA8B,2DAAtBR,YAAsB,IAARS,CAAAA,MAAQ,2CACpD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKjB,CAAAA,YAAL,CACE,wBACKe,KADL,EAEEH,SAAS,CAAE,IAFb,GAIF,IAAKb,CAAAA,WAAL,CACE,wBACKgB,KADL,EAEEJ,eAAe,CAAE,IAFnB,CAGEC,SAAS,CAAE,KAHb,CAIEC,IAAI,CAAEG,MAAM,CAACE,OAJf,GAMF,IAAKhB,CAAAA,aAAL,CACA,IAAKG,CAAAA,gBAAL,CACEI,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8BH,MAAM,CAACE,OAAP,CAAeV,KAA7C,EACA,wBACKO,KADL,IAEKC,MAAM,CAACE,OAFZ,EAEqB;AACnBP,eAAe,CAAE,IAHnB,CAIEC,SAAS,CAAE,KAJb,GAMF,IAAKX,CAAAA,UAAL,CACA,IAAKE,CAAAA,UAAL,CACA,IAAKC,CAAAA,cAAL,CACA,IAAKE,CAAAA,aAAL,CACEG,YAAY,CAACW,UAAb,CAAwB,OAAxB,EACA,wBACKL,KADL,EAEEP,KAAK,CAAE,IAFT,CAGEK,IAAI,CAAE,IAHR,CAIEF,eAAe,CAAE,KAJnB,CAKEC,SAAS,CAAE,KALb,GAOF,QACE,MAAOG,CAAAA,KAAP,CAnCJ,CAqCD","sourcesContent":["import {\n  USER_LOADED,\n  USER_LOADING,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT_SUCCESS,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL\n} from \"../actions/types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  isLoading: false,\n  user: [{ _id: \"2\" }]\n};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case USER_LOADING:\n      return {\n        ...state,\n        isLoading: true\n      };\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payload\n      };\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload, // includes token\n        isAuthenticated: true,\n        isLoading: false\n      };\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT_SUCCESS:\n    case REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}